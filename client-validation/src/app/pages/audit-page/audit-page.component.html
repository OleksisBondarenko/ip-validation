<div class="audit-page-container">
  <div class="search-controls">
    <div class="search-box">
      <input type="text"
             [(ngModel)]="searchTerm"
             (keyup.enter)="onSearch()"
             placeholder="Пошук серед записів...">
      <button (click)="onSearch()">Пошук</button>
    </div>

    <div class="pagination-controls">
      <select [(ngModel)]="itemsPerPage" (change)="onItemsPerPageChange()">
        <option value="5">5 на сторінку</option>
        <option value="10">10 на сторінку</option>
        <option value="25">25 на сторінку</option>
        <option value="50">50 на сторінку</option>
      </select>
      <div>загалом {{this.totalItems}}</div>
    </div>
  </div>

  @if (isLoading) {
  <div class="loading-indicator" *ngIf="isLoading">
    <mat-spinner diameter="40"></mat-spinner>
    <span>Завантаження...</span>
  </div>
  } @else {
  <div class="list-wrapper">
    <app-audit-list [auditList]="auditList"></app-audit-list>
  </div>

  <div class="pagination" *ngIf="totalItems > itemsPerPage && !isLoading">
    <button [disabled]="currentPage === 1"
            (click)="onPageChange(currentPage - 1)">
      Минула сторінка
    </button>

    <span>Сторінка {{currentPage}} з {{totalPages()}}</span>

    <button [disabled]="currentPage * itemsPerPage >= totalItems"
            (click)="onPageChange(currentPage + 1)">
      Наступна сторінка
    </button>
  </div>
  }
</div>
